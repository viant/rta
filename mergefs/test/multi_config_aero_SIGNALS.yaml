Endpoint:
  Port: 8061

Debug: true #false #true
TypeName: Signal
TimeoutSec:   3000
ThinkTimeSec: 5 #1 #5 #30 sec on prod
ThinkTimeJournalMs: 800

JournalTable: ${Dest}_RTA_JN
JournalConnection:
  Driver: mysql
  Dsn: 'root:dev@tcp(127.0.0.1:3307)/forecaster?parseTime=true'

Dest: ${Dest_lowercase}/Values
Connection:
  Driver: aerospike
  Dsn: 'aerospike://127.0.0.1:3000/ns_memory'

Mode: direct
UseInsertAPI: true
BatchSize: 30000
CreateDDL: "REGISTER GLOBAL SET WITH TTL 259200 ${Dest} AS ${Struct}"

MainLoopDelayMs: 10
MergersRefreshMs: 15000

Merge:
  AggregableSum:
    - count

DestPlaceholders:
  Placeholders:
    - SIGNAL
    - FOO
  Connection:
    Driver: bigquery
    Dsn: 'bigquery://viant-e2e/selector'
  Query:  |
    SELECT upper(replace(replace(name,".","_")," ","_")) NAME
    FROM features
#  Query:  |
#    SELECT 'SIGNALS_' || upper(replace(replace(name,".","_")," ","_")) NAME
#    FROM features
